--- 
export async function getStaticPaths({ paginate }) {

  const astronautPages = [{
    astronaut: 'Neil Armstrong',
  }, {
    astronaut: 'Buzz Aldrin',
  }, {
    astronaut: 'Sally Ride',
  }, {
    astronaut: 'John Glenn',
  }];

  const astronauts = ['red', 'blue', 'green','jj'];

  // Generate pages from our array of astronauts, with 2 to a page
  //console.log(paginate(astronautPages, { pageSize: 1,params:{astronauts:'doe'} } ))
  //return paginate(astronautPages, { pageSize: 1,params:{astronauts:'doe'} } );

  return astronauts.flatMap((astronaut) => {

    return paginate(astronautPages, {
      params: { astronaut },
      pageSize: 1
    });

  });

}

const { page } = Astro.props;
const {astronaut}=Astro.params
console.log(astronaut);
---

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
  
    <h1>Page {page.currentPage}</h1>
    <ul>
    <!--List the array of astronaut info-->
    {page.data.map(({ astronaut }) => <li>{astronaut}</li>)}
    </ul>
    <script>

      const data=['doe','gaut','user']

      const res=data.flatMap((d)=> {
          console.log([d]);
          return [d+'test']
      });

    </script>
</body>
</html>